decl sort s

decl type carrier : type (s) -> -

decl type max3 : idx (s,s,s) -> s


comput foo_t =
   this.Foo<x : s, y : s>().ret(carrier (max3 x x y))

comput bar_t =
  this.Bar<x:s, y:s>().ret(carrier (max3 x y y))

decl val x : foo_t

val y = match this.Bar<x0:s,y0:s>().ret(a) -> x.Foo<x0,y0>().ret(a)
